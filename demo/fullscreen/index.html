<html>
	<head>
		<meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1">

		<link href="https://fonts.googleapis.com/css?family=Work+Sans:300|Dosis:300" rel="stylesheet">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<link rel="stylesheet" href="../../pb-calendar.css">
		<link rel="stylesheet" href="../../themes/fullscreen/pb-calendar.theme.fullscreen.css">
		<link rel="stylesheet" href="style.css">
		
	</head>
	<body>

		<div class="container">
			<div id="calendar"></div>
		</div>

		<!-- Modal -->
		<div class="modal fade xxl-modal" id="entry-modal" tabindex="-1" role="dialog" aria-labelledby="saveEntryModal">
		  <div class="modal-dialog" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span class="glyphicon glyphicon-remove"></span></button>
		        <button type="button" class="close" style="margin-right: 10px;"><span class="glyphicon glyphicon-trash"></span></button>
		        <h4 class="modal-title" id="saveEntryModal">Tallenna merkintä</h4>
		      </div>
		      <div class="modal-body">
				<div class="row">
					<div class="col-sm-4">
						<div class="form-group">
							<label for="event-name">Tapahtuman nimi</label>
							<input type="text" name="event[name]" class="form-control" id="event-name">
						</div>
						<div class="form-group">
							<label for="event-short-description">Lyhyt kuvaus</label>
							<textarea name="event[short_description]" class="form-control" id="event-short-description"></textarea>
						</div>
						<div class="form-group">
							<label for="event-from">Tapahtuman aloitus- ja lopetusaika</label>
							<div class="input-group">
								<input type="datetime" name="event[from]" class="form-control" id="event-from">
								<div class="input-group-addon">-</div>
								<input type="datetime" name="event[to]" class="form-control" id="event-to">
							</div>
						</div>
						<div class="form-group">
							<label for="event-type">Koulutuksen tyyppi</label><br>
							<input type="radio" name="event[type]" id="event-type-normal" checked> <label for="event-type-normal" class="value">Normaali</label>
							<input type="radio" name="event[type]" id="event-type-video"> <label for="event-type-normal" class="value">Video</label>
						</div>
						<div class="form-group">
							<label for="event-color">Kalenterimerkinnän väri</label>
							<div class="color-picker">
								<span style="display: inline-block;border-radius: 50%;width: 16px;height: 16px;background-color: #DEDEDE;" class="selected-color"></span>
								<div class="color-options">
									<a href="#" style="display: inline-block;border-radius: 50%;width: 16px;height: 16px;background-color: #323232;" class="color-option"></a>
									<a href="#" style="display: inline-block;border-radius: 50%;width: 16px;height: 16px;background-color: #FFEA08;" class="color-option"></a>
									<a href="#" style="display: inline-block;border-radius: 50%;width: 16px;height: 16px;background-color: #800000;" class="color-option"></a>
									<a href="#" style="display: inline-block;border-radius: 50%;width: 16px;height: 16px;background-color: #555555;" class="color-option"></a>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label for="event-description">Kuvaus</label>
							<textarea name="event[description]" class="form-control" id="event-description"></textarea>
						</div>
						<div class="form-group">
							<label for="event-attachments">Liitetiedostot</label>
							<input type="file" name="event[attachments]" class="form-control" id="event-attachments">
						</div>
					</div> <!-- col -->
					<div class="col-sm-4">
						<div class="form-group">
						</div>
					</div> <!-- col -->
				</div> <!-- row -->
		      </div>
		    </div>
		  </div>
		</div>


		<script src="../../jquery.js"></script>
		<script src="../../bootstrap.3.3.7.js"></script>
		<script src="../../bootstrap-datepicker.js"></script>
		<script src="../../bootstrap-datepicker.fi.js"></script>
		<script src="../../moment.js"></script>
		<script src="http://momentjs.com/downloads/moment-with-locales.min.js"></script>
		<script src="../../pb-calendar.v2.5.jquery.js"></script>
		<script src="../../themes/fullscreen/pb-calendar.fullsceen.jquery.js"></script>

		<script>
		$(function() {
			$('#calendar').PBCalendar({
				locale: 'fi',
				hour_interval: '00:10',
				calendar_type: 'month',
				theme: 'fullscreen',
				dayStart: '08:00', 
				prev_nav: '<span class="glyphicon glyphicon-menu-left"></span>',
				next_nav: '<span class="glyphicon glyphicon-menu-right"></span>',
				entries: [
					 {
						title: '0000',
						start: '2017-02-27 09:30',
						end: '2017-02-27 10:00',
						styles: {
							borderColor: 'red',
						}
					 },
					 {
						title: '0000',
						start: '2017-02-28 09:30',
						end: '2017-02-28 10:00',
						styles: {
							borderColor: 'green',
						}
					 }
		        ]
			}, true);


			$('#calendar').on('onEntryResized', function(e, entry, plugin) {
				console.log('Resized: ', e, entry, plugin);
			});
			$('#calendar').on('onEntryMoved', function(e, entry, plugin) {
				console.log('Moved: ', e, entry, plugin);
			});
			$('#calendar').on('onEntryClick', function(e, entry, plugin) {
				console.log('Click: ', e, entry, plugin);
			});
			$('#calendar').on('onRangeSelected', function(e, range, plugin) {
				$('#entry-modal').modal('show');

				$('#event-from').val(range.start.format('DD.MM.Y HH:mm'));
				$('#event-to').val(range.end.format('DD.MM.Y HH:mm'));

			});


			// 
			$(document).on('click', '.reservation-list a[data-toggle="collapse"]', function() {
				var $target = $($(this).attr('href'));
				if($target.length) {
					if(!$target.hasClass('in')) {
						$('html, body').animate({ scrollTop: $target.offset().top });
					}
				}
			});




		});
		</script>

	</body>
</html>